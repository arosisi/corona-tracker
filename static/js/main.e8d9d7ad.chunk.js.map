{"version":3,"sources":["Globe.js","Graph.js","Info.js","App.js","serviceWorker.js","index.js"],"names":["props","color","aggregated","state","dataType","max","data","reduce","item","Math","confirmed","justConfirmed","colorScale","domain","elevate","setState","altitude","transitionDuration","globe","React","createRef","d3","loading","hovered","this","current","pointOfView","setTimeout","width","height","drawGraph","Dropdown","style","position","top","left","zIndex","Toggle","variant","Menu","Item","active","onClick","ref","backgroundImageUrl","globeImageUrl","bumpImageUrl","showGraticules","polygonsData","polygonAltitude","polygonCapColor","p","polygonSideColor","polygonStrokeColor","polygonLabel","name","code","deaths","recovered","justDeaths","justRecovered","onPolygonClick","onPolygonHover","polygonsTransitionDuration","Component","Graph","raw","map","index","marginTop","display","flexGrow","marginRight","margin","right","bottom","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","strokeDasharray","type","stroke","fillOpacity","fill","Info","activeKey","CustomToggle","children","eventKey","cursor","userSelect","marginBottom","href","target","rel","Accordion","Card","Header","Collapse","Body","App","windowWidth","window","innerWidth","windowHeight","innerHeight","addEventListener","fetch","then","res","json","result","now","slice","last","error","console","log","Row","Col","xs","lg","flexDirection","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.e8d9d7ad.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport Globe from \"react-globe.gl\";\r\nimport * as d3 from \"d3\";\r\n\r\nconst AGGREGATED = \"aggregated\";\r\nconst TODAY = \"today\";\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.globe = React.createRef();\r\n    this.colorScale = d3.scaleSequentialSqrt(d3.interpolateYlOrRd);\r\n    this.state = {\r\n      loading: true,\r\n      altitude: 0.1,\r\n      transitionDuration: 1000,\r\n      hovered: \"\",\r\n      dataType: AGGREGATED\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.globe.current.pointOfView({ altitude: 4 }, 5000);\r\n\r\n    this.color();\r\n    this.setState({ loading: false });\r\n\r\n    setTimeout(this.elevate(), 3000);\r\n  }\r\n\r\n  color = () => {\r\n    const aggregated = this.state.dataType === AGGREGATED;\r\n    const max = this.props.data.reduce(\r\n      (max, item) =>\r\n        Math.max(max, aggregated ? item.confirmed : item.justConfirmed),\r\n      0\r\n    );\r\n    this.colorScale.domain([0, max]);\r\n  };\r\n\r\n  elevate = () =>\r\n    this.setState({\r\n      altitude:\r\n        this.state.dataType === AGGREGATED\r\n          ? ({ confirmed }) => Math.max(0.1, (confirmed / 500) * 7e-5)\r\n          : ({ justConfirmed }) => Math.max(0.1, (justConfirmed / 10) * 7e-5),\r\n      transitionDuration: 4000\r\n    });\r\n\r\n  render() {\r\n    const { width, height, data, drawGraph } = this.props;\r\n    const {\r\n      loading,\r\n      altitude,\r\n      transitionDuration,\r\n      hovered,\r\n      dataType\r\n    } = this.state;\r\n    const aggregated = dataType === AGGREGATED;\r\n    return (\r\n      <div>\r\n        <Dropdown style={{ position: \"absolute\", top: 5, left: 20, zIndex: 1 }}>\r\n          <Dropdown.Toggle variant='success'>Data type</Dropdown.Toggle>\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item\r\n              active={aggregated}\r\n              onClick={() =>\r\n                this.setState({ dataType: AGGREGATED }, () => {\r\n                  this.color();\r\n                  this.elevate();\r\n                })\r\n              }\r\n            >\r\n              Aggregated\r\n            </Dropdown.Item>\r\n            <Dropdown.Item\r\n              active={!aggregated}\r\n              onClick={() =>\r\n                this.setState({ dataType: TODAY }, () => {\r\n                  this.color();\r\n                  this.elevate();\r\n                })\r\n              }\r\n            >\r\n              Today\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n\r\n        <Globe\r\n          ref={this.globe}\r\n          backgroundImageUrl='//unpkg.com/three-globe/example/img/night-sky.png'\r\n          globeImageUrl='//unpkg.com/three-globe/example/img/earth-blue-marble.jpg'\r\n          bumpImageUrl='//unpkg.com/three-globe/example/img/earth-topology.png'\r\n          showGraticules\r\n          width={width}\r\n          height={height}\r\n          polygonsData={data}\r\n          polygonAltitude={altitude}\r\n          polygonCapColor={\r\n            loading\r\n              ? \"#ffffaa\"\r\n              : p =>\r\n                  p === hovered\r\n                    ? \"steelblue\"\r\n                    : this.colorScale(\r\n                        aggregated ? p.confirmed : p.justConfirmed\r\n                      )\r\n          }\r\n          polygonSideColor={() => \"rgba(0, 10000, 0, 0.15)\"}\r\n          polygonStrokeColor={() => \"#111\"}\r\n          polygonLabel={({\r\n            name,\r\n            code,\r\n            confirmed,\r\n            deaths,\r\n            recovered,\r\n            justConfirmed,\r\n            justDeaths,\r\n            justRecovered\r\n          }) => `\r\n            <b>${name} (${code})</b>\r\n            ${`\r\n                <br />\r\n                Confirmed: <i>${\r\n                  aggregated ? confirmed : justConfirmed\r\n                }</i><br />\r\n                ${\r\n                  recovered\r\n                    ? `Recovered: <i>${\r\n                        aggregated ? recovered : justRecovered\r\n                      }</i><br />`\r\n                    : \"\"\r\n                }\r\n                Deaths: <i>${aggregated ? deaths : justDeaths}</i>\r\n              `}\r\n          `}\r\n          onPolygonClick={({ name }) => drawGraph(name)}\r\n          onPolygonHover={p => this.setState({ hovered: p })}\r\n          polygonsTransitionDuration={transitionDuration}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport {\r\n  AreaChart,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Area\r\n} from \"recharts\";\r\n\r\nconst AGGREGATED = \"aggregated\";\r\nconst DAILY = \"daily\";\r\n\r\nclass Graph extends React.Component {\r\n  state = { dataType: AGGREGATED };\r\n\r\n  render() {\r\n    const { width, height, raw, name } = this.props;\r\n    const { dataType } = this.state;\r\n    const aggregated = dataType === AGGREGATED;\r\n    const data = aggregated\r\n      ? raw[name]\r\n      : raw[name] &&\r\n        raw[name].map((item, index) => {\r\n          if (!index) return item;\r\n          let confirmed = item.confirmed - raw[name][index - 1].confirmed;\r\n          let deaths = item.deaths - raw[name][index - 1].deaths;\r\n          let recovered = item.recovered - raw[name][index - 1].recovered;\r\n          confirmed = confirmed > 0 ? confirmed : 0;\r\n          deaths = deaths > 0 ? deaths : 0;\r\n          recovered = recovered > 0 ? recovered : 0;\r\n          return {\r\n            ...item,\r\n            confirmed,\r\n            deaths,\r\n            recovered\r\n          };\r\n        });\r\n    return (\r\n      <div style={{ marginTop: 10 }}>\r\n        <div style={{ display: \"flex\" }}>\r\n          <h3>{!name ? \"Click a country on the globe\" : name}</h3>\r\n          <span style={{ flexGrow: 1 }} />\r\n          <Dropdown style={{ marginRight: 39 }}>\r\n            <Dropdown.Toggle variant='success'>Data type</Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item\r\n                active={aggregated}\r\n                onClick={() => this.setState({ dataType: AGGREGATED })}\r\n              >\r\n                Aggregated\r\n              </Dropdown.Item>\r\n              <Dropdown.Item\r\n                active={!aggregated}\r\n                onClick={() => this.setState({ dataType: DAILY })}\r\n              >\r\n                Daily\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </div>\r\n\r\n        <AreaChart\r\n          width={width}\r\n          height={height}\r\n          data={data}\r\n          margin={{ top: 20, right: 40, left: 20, bottom: 0 }}\r\n        >\r\n          <defs>\r\n            <linearGradient id='colorConfirmed' x1='0' y1='0' x2='0' y2='1'>\r\n              <stop offset='5%' stopColor='#8884d8' stopOpacity={0.8} />\r\n              <stop offset='95%' stopColor='#8884d8' stopOpacity={0} />\r\n            </linearGradient>\r\n            <linearGradient id='colorRecovered' x1='0' y1='0' x2='0' y2='1'>\r\n              <stop offset='5%' stopColor='#82ca9d' stopOpacity={0.8} />\r\n              <stop offset='95%' stopColor='#82ca9d' stopOpacity={0} />\r\n            </linearGradient>\r\n            <linearGradient id='colorDeaths' x1='0' y1='0' x2='0' y2='1'>\r\n              <stop offset='5%' stopColor='#ffc658' stopOpacity={0.8} />\r\n              <stop offset='95%' stopColor='#ffc658' stopOpacity={0} />\r\n            </linearGradient>\r\n          </defs>\r\n          <XAxis dataKey='date' />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <Tooltip />\r\n          <Area\r\n            type='monotone'\r\n            dataKey='confirmed'\r\n            name='Confirmed'\r\n            stroke='#8884d8'\r\n            fillOpacity={1}\r\n            fill='url(#colorConfirmed)'\r\n          />\r\n          <Area\r\n            type='monotone'\r\n            dataKey='recovered'\r\n            name='Recovered'\r\n            stroke='#82ca9d'\r\n            fillOpacity={1}\r\n            fill='url(#colorRecovered)'\r\n          />\r\n          <Area\r\n            type='monotone'\r\n            dataKey='deaths'\r\n            name='Deaths'\r\n            stroke='#ffc658'\r\n            fillOpacity={1}\r\n            fill='url(#colorDeaths)'\r\n          />\r\n        </AreaChart>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Graph;\r\n","import React from \"react\";\r\nimport \"./Info.css\";\r\nimport Accordion from \"react-bootstrap/Accordion\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nclass Info extends React.Component {\r\n  state = { activeKey: \"\" };\r\n\r\n  render() {\r\n    const { activeKey } = this.state;\r\n\r\n    const CustomToggle = ({ children, eventKey }) => (\r\n      <p\r\n        style={{\r\n          margin: 0,\r\n          color: \"#007bff\",\r\n          cursor: \"pointer\",\r\n          userSelect: \"none\"\r\n        }}\r\n        onClick={() => {\r\n          const { activeKey } = this.state;\r\n          if (activeKey === eventKey) {\r\n            this.setState({ activeKey: \"\" });\r\n          } else {\r\n            this.setState({ activeKey: eventKey });\r\n          }\r\n        }}\r\n      >\r\n        {children}\r\n      </p>\r\n    );\r\n\r\n    return (\r\n      <div style={{ marginTop: 20 }}>\r\n        <p style={{ marginBottom: \"1rem\" }}>\r\n          Click{\" \"}\r\n          <a\r\n            href='https://www.who.int/news-room/q-a-detail/q-a-coronaviruses'\r\n            target='_blank'\r\n            rel='noopener noreferrer'\r\n          >\r\n            here\r\n          </a>{\" \"}\r\n          for more information from the WHO\r\n        </p>\r\n\r\n        <Accordion activeKey={activeKey}>\r\n          <Card>\r\n            <Card.Header>\r\n              <CustomToggle eventKey='0'>What is a coronavirus?</CustomToggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey='0'>\r\n              <Card.Body>\r\n                Coronaviruses are a large family of viruses which may cause\r\n                illness in animals or humans. In humans, several coronaviruses\r\n                are known to cause respiratory infections ranging from the\r\n                common cold to more severe diseases such as Middle East\r\n                Respiratory Syndrome (MERS) and Severe Acute Respiratory\r\n                Syndrome (SARS). The most recently discovered coronavirus causes\r\n                coronavirus disease COVID-19.\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n\r\n          <Card>\r\n            <Card.Header>\r\n              <CustomToggle eventKey='1'>What is COVID-19?</CustomToggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey='1'>\r\n              <Card.Body>\r\n                COVID-19 is the infectious disease caused by the most recently\r\n                discovered coronavirus. This new virus and disease were unknown\r\n                before the outbreak began in Wuhan, China, in December 2019.\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n\r\n          <Card>\r\n            <Card.Header>\r\n              <CustomToggle eventKey='2'>\r\n                What are the symptoms of COVID-19?\r\n              </CustomToggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey='2'>\r\n              <Card.Body>\r\n                The most common symptoms of COVID-19 are fever, tiredness, and\r\n                dry cough. Some patients may have aches and pains, nasal\r\n                congestion, runny nose, sore throat or diarrhea. These symptoms\r\n                are usually mild and begin gradually. Some people become\r\n                infected but don’t develop any symptoms and don't feel unwell.\r\n                Most people (about 80%) recover from the disease without needing\r\n                special treatment. Around 1 out of every 6 people who gets\r\n                COVID-19 becomes seriously ill and develops difficulty\r\n                breathing. Older people, and those with underlying medical\r\n                problems like high blood pressure, heart problems or diabetes,\r\n                are more likely to develop serious illness. People with fever,\r\n                cough and difficulty breathing should seek medical attention.\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n\r\n          <Card>\r\n            <Card.Header>\r\n              <CustomToggle eventKey='3'>\r\n                How does COVID-19 spread?\r\n              </CustomToggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey='3'>\r\n              <Card.Body>\r\n                <p>\r\n                  People can catch COVID-19 from others who have the virus. The\r\n                  disease can spread from person to person through small\r\n                  droplets from the nose or mouth which are spread when a person\r\n                  with COVID-19 coughs or exhales. These droplets land on\r\n                  objects and surfaces around the person. Other people then\r\n                  catch COVID-19 by touching these objects or surfaces, then\r\n                  touching their eyes, nose or mouth. People can also catch\r\n                  COVID-19 if they breathe in droplets from a person with\r\n                  COVID-19 who coughs out or exhales droplets. This is why it is\r\n                  important to stay more than 1 meter (3 feet) away from a\r\n                  person who is sick.\r\n                </p>\r\n                <div>\r\n                  WHO is assessing ongoing research on the ways COVID-19 is\r\n                  spread and will continue to share updated findings.\r\n                </div>\r\n                <hr />\r\n                <p>\r\n                  <strong>\r\n                    Can the virus that causes COVID-19 be transmitted through\r\n                    the air?\r\n                  </strong>\r\n                </p>\r\n                <div>\r\n                  Studies to date suggest that the virus that causes COVID-19 is\r\n                  mainly transmitted through contact with respiratory droplets\r\n                  rather than through the air. See previous answer on “How does\r\n                  COVID-19 spread?”\r\n                </div>\r\n                <hr />\r\n                <p>\r\n                  <strong>\r\n                    Can CoVID-19 be caught from a person who has no symptoms?\r\n                  </strong>\r\n                </p>\r\n                <div>\r\n                  The main way the disease spreads is through respiratory\r\n                  droplets expelled by someone who is coughing. The risk of\r\n                  catching COVID-19 from someone with no symptoms at all is very\r\n                  low. However, many people with COVID-19 experience only mild\r\n                  symptoms. This is particularly true at the early stages of the\r\n                  disease. It is therefore possible to catch COVID-19 from\r\n                  someone who has, for example, just a mild cough and does not\r\n                  feel ill. WHO is assessing ongoing research on the period of\r\n                  transmission of COVID-19 and will continue to share updated\r\n                  findings.\r\n                </div>\r\n                <hr />\r\n                <p>\r\n                  <strong>\r\n                    Can I catch COVID-19 from the feces of someone with the\r\n                    disease?\r\n                  </strong>\r\n                </p>\r\n                <div>\r\n                  The risk of catching COVID-19 from the feces of an infected\r\n                  person appears to be low. While initial investigations suggest\r\n                  the virus may be present in feces in some cases, spread\r\n                  through this route is not a main feature of the outbreak. WHO\r\n                  is assessing ongoing research on the ways COVID-19 is spread\r\n                  and will continue to share new findings. Because this is a\r\n                  risk, however, it is another reason to clean hands regularly,\r\n                  after using the bathroom and before eating.\r\n                </div>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n\r\n          <Card>\r\n            <Card.Header>\r\n              <CustomToggle eventKey='4'>\r\n                What can I do to protect myself and prevent the spread of\r\n                disease?\r\n              </CustomToggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey='4'>\r\n              <Card.Body>\r\n                <p>\r\n                  <strong>Protection measures for everyone</strong>\r\n                </p>\r\n                <p>\r\n                  Stay aware of the latest information on the COVID-19 outbreak,\r\n                  available on the WHO website and through your national and\r\n                  local public health authority. Many countries around the world\r\n                  have seen cases of COVID-19 and several have seen outbreaks.\r\n                  Authorities in China and some other countries have succeeded\r\n                  in slowing or stopping their outbreaks. However, the situation\r\n                  is unpredictable so check regularly for the latest news.\r\n                </p>\r\n                <p>\r\n                  You can reduce your chances of being infected or spreading\r\n                  COVID-19 by taking some simple precautions:\r\n                </p>\r\n                <ul>\r\n                  <li>\r\n                    <div>\r\n                      Regularly and thoroughly clean your hands with an\r\n                      alcohol-based hand rub or wash them with soap and water.\r\n                    </div>\r\n                    <div>\r\n                      Why? Washing your hands with soap and water or using\r\n                      alcohol-based hand rub kills viruses that may be on your\r\n                      hands.\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      Maintain at least 1 metre (3 feet) distance between\r\n                      yourself and anyone who is coughing or sneezing.\r\n                    </div>\r\n                    <div>\r\n                      Why? When someone coughs or sneezes they spray small\r\n                      liquid droplets from their nose or mouth which may contain\r\n                      virus. If you are too close, you can breathe in the\r\n                      droplets, including the COVID-19 virus if the person\r\n                      coughing has the disease.\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>Avoid touching eyes, nose and mouth.</div>\r\n                    <div>\r\n                      Why? Hands touch many surfaces and can pick up viruses.\r\n                      Once contaminated, hands can transfer the virus to your\r\n                      eyes, nose or mouth. From there, the virus can enter your\r\n                      body and can make you sick.\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      Make sure you, and the people around you, follow good\r\n                      respiratory hygiene. This means covering your mouth and\r\n                      nose with your bent elbow or tissue when you cough or\r\n                      sneeze. Then dispose of the used tissue immediately.\r\n                    </div>\r\n                    <div>\r\n                      Why? Droplets spread virus. By following good respiratory\r\n                      hygiene you protect the people around you from viruses\r\n                      such as cold, flu and COVID-19.\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      Stay home if you feel unwell. If you have a fever, cough\r\n                      and difficulty breathing, seek medical attention and call\r\n                      in advance. Follow the directions of your local health\r\n                      authority.\r\n                    </div>\r\n                    <div>\r\n                      Why? National and local authorities will have the most up\r\n                      to date information on the situation in your area. Calling\r\n                      in advance will allow your health care provider to quickly\r\n                      direct you to the right health facility. This will also\r\n                      protect you and help prevent spread of viruses and other\r\n                      infections.\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      Keep up to date on the latest COVID-19 hotspots (cities or\r\n                      local areas where COVID-19 is spreading widely). If\r\n                      possible, avoid traveling to places – especially if you\r\n                      are an older person or have diabetes, heart or lung\r\n                      disease.\r\n                    </div>\r\n                    <div>\r\n                      Why? National and local authorities will have the most up\r\n                      to date information on the situation in your area. Calling\r\n                      in advance will allow your health care provider to quickly\r\n                      direct you to the right health facility. This will also\r\n                      protect you and help prevent spread of viruses and other\r\n                      infections.Why? You have a higher chance of catching\r\n                      COVID-19 in one of these areas.\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n\r\n                <p>\r\n                  <strong>\r\n                    Protection measures for persons who are in or have recently\r\n                    visited (past 14 days) areas where COVID-19 is spreading\r\n                  </strong>\r\n                </p>\r\n                <ul>\r\n                  <li>\r\n                    Follow the guidance outlined above (Protection measures for\r\n                    everyone)\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      Self-isolate by staying at home if you begin to feel\r\n                      unwell, even with mild symptoms such as headache, low\r\n                      grade fever (37.3 C or above) and slight runny nose, until\r\n                      you recover. If it is essential for you to have someone\r\n                      bring you supplies or to go out, e.g. to buy food, then\r\n                      wear a mask to avoid infecting other people.\r\n                    </div>\r\n                    <div>\r\n                      Why? Avoiding contact with others and visits to medical\r\n                      facilities will allow these facilities to operate more\r\n                      effectively and help protect you and others from possible\r\n                      COVID-19 and other viruses.\r\n                    </div>\r\n                  </li>\r\n                  <li>\r\n                    <div>\r\n                      If you develop fever, cough and difficulty breathing, seek\r\n                      medical advice promptly as this may be due to a\r\n                      respiratory infection or other serious condition. Call in\r\n                      advance and tell your provider of any recent travel or\r\n                      contact with travelers.\r\n                    </div>\r\n                    <div>\r\n                      Why? Calling in advance will allow your health care\r\n                      provider to quickly direct you to the right health\r\n                      facility. This will also help to prevent possible spread\r\n                      of COVID-19 and other viruses.\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n        </Accordion>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Info;\r\n","import React from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\n\nimport Globe from \"./Globe\";\nimport Graph from \"./Graph\";\nimport Info from \"./Info\";\n\nimport { data } from \"./data.json\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      loading: true,\n      raw: [],\n      data: [],\n      name: \"\"\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"resize\", ({ target }) =>\n      this.setState({\n        windowWidth: target.innerWidth,\n        windowHeight: target.innerHeight\n      })\n    );\n\n    fetch(\"https://pomber.github.io/covid19/timeseries.json\")\n      .then(res => res.json())\n      .then(\n        result => {\n          this.setState({\n            loading: false,\n            raw: result,\n            data: data.map(item => {\n              const { name } = item;\n              const now = result[name] && result[name].slice(-1)[0];\n              const last = result[name] && result[name].slice(-2)[0];\n              return {\n                ...item,\n                confirmed: now ? now.confirmed : 0,\n                deaths: now ? now.deaths : 0,\n                recovered: now ? now.recovered : 0,\n                justConfirmed: now ? now.confirmed - last.confirmed : 0,\n                justDeaths: now ? now.deaths - last.deaths : 0,\n                justRecovered: now ? now.recovered - last.recovered : 0\n              };\n            })\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        error => {\n          this.setState({ loading: true }, console.log);\n        }\n      );\n  }\n\n  render() {\n    const { windowWidth, windowHeight, loading, raw, data, name } = this.state;\n    return (\n      <div>\n        <Row style={{ margin: 0 }}>\n          <Col xs={12} lg={6}>\n            {loading ? null : (\n              <Globe\n                width={\n                  windowWidth >= 992 ? windowWidth / 2 - 30 : windowWidth - 30\n                }\n                height={\n                  windowWidth >= 992 ? windowHeight - 5 : windowHeight / 2\n                }\n                data={data}\n                drawGraph={name => this.setState({ name })}\n              />\n            )}\n          </Col>\n\n          <Col xs={12} lg={6}>\n            {loading ? null : (\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                <Graph\n                  width={\n                    windowWidth >= 992 ? windowWidth / 2 - 30 : windowWidth - 30\n                  }\n                  height={250}\n                  raw={raw}\n                  name={name}\n                />\n                <Info />\n              </div>\n            )}\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}